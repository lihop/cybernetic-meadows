[gd_scene load_steps=19 format=2]

[ext_resource path="res://items/static_item_2d.tscn" type="PackedScene" id=1]
[ext_resource path="res://items/raw_materials/wood/wood.tscn" type="PackedScene" id=2]
[ext_resource path="res://items/natural_resources/tree/assets/tree.png" type="Texture" id=3]
[ext_resource path="res://items/natural_resources/tree/tree.gd" type="Script" id=4]
[ext_resource path="res://items/nodes/environment/purifier/purifier.gd" type="Script" id=5]
[ext_resource path="res://items/natural_resources/tree/assets/521458__matislav__small-wooden-piece-chop-012.wav" type="AudioStream" id=6]
[ext_resource path="res://items/nodes/resource/extractable.tscn" type="PackedScene" id=7]
[ext_resource path="res://items/natural_resources/tree/assets/521460__matislav__small-wooden-piece-chop-010.wav" type="AudioStream" id=8]
[ext_resource path="res://items/natural_resources/tree/assets/521466__matislav__small-wooden-piece-chop-018.wav" type="AudioStream" id=9]
[ext_resource path="res://items/natural_resources/tree/assets/521461__matislav__small-wooden-piece-chop-017.wav" type="AudioStream" id=10]
[ext_resource path="res://items/natural_resources/tree/assets/wood_chips.png" type="Texture" id=11]
[ext_resource path="res://items/raw_materials/wood/wood.tres" type="Resource" id=12]
[ext_resource path="res://items/item_resource.gd" type="Script" id=13]

[sub_resource type="Resource" id=5]
script = ExtResource( 13 )
display_name = "Tree"
name = "tree"
scene_path = "res://items/natural_resources/tree/tree.gd"
placeable = false

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 16, 8 )

[sub_resource type="CircleShape2D" id=2]

[sub_resource type="CanvasItemMaterial" id=3]
particles_animation = true
particles_anim_h_frames = 1
particles_anim_v_frames = 3
particles_anim_loop = true

[sub_resource type="ParticlesMaterial" id=4]
emission_shape = 1
emission_sphere_radius = 11.3
flag_disable_z = true
direction = Vector3( 1, 3, 0 )
spread = 109.14
flatness = 0.46
gravity = Vector3( 0, 98, 0 )
initial_velocity = 12.0
initial_velocity_random = 0.53
angular_velocity = 612.52
angular_velocity_random = 1.0
orbit_velocity = 0.0
orbit_velocity_random = 0.0
angle = -198.6
angle_random = 0.19
anim_offset = 1.0
anim_offset_random = 1.0

[node name="Tree" instance=ExtResource( 1 )]
script = ExtResource( 4 )
resource = SubResource( 5 )
pollution_per_second = -0.005
raw_material = ExtResource( 2 )
extraction_effort = 0.5
units_per_yield = 4

[node name="Sprite" parent="." index="0"]
position = Vector2( 0, -48 )
texture = ExtResource( 3 )

[node name="CollisionShape2D" parent="Footprint" index="0"]
shape = SubResource( 1 )

[node name="CollisionShape2D" parent="Reach" index="0"]
shape = SubResource( 2 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Body" index="0"]
polygon = PoolVector2Array( 0, 8, 16, 8, 8, 0, 8, 0, -8, 0, -16, 8 )

[node name="Purifier" type="Node2D" parent="." index="4"]
script = ExtResource( 5 )
purification_per_second = 0.001

[node name="Extractable" parent="." index="5" instance=ExtResource( 7 )]
resource = ExtResource( 12 )
units_per_yield = 4
extraction_effort = 0.5
max_units = 4
sounds = [ ExtResource( 6 ), ExtResource( 8 ), ExtResource( 10 ), ExtResource( 9 ) ]
particles = [ NodePath("Particles2D2") ]

[node name="Particles2D2" type="Particles2D" parent="Extractable" index="1"]
material = SubResource( 3 )
emitting = false
amount = 16
lifetime = 0.5
one_shot = true
process_material = SubResource( 4 )
texture = ExtResource( 11 )
[connection signal="depleted" from="Extractable" to="." method="_on_Extractable_depleted"]
